Loading pipeline components...:   0%|          | 0/7 [00:00<?, ?it/s]Loading pipeline components...:  14%|█▍        | 1/7 [00:00<00:02,  2.97it/s]Loading pipeline components...:  43%|████▎     | 3/7 [00:00<00:00,  6.80it/s]Loading pipeline components...: 100%|██████████| 7/7 [00:01<00:00,  6.11it/s]Loading pipeline components...: 100%|██████████| 7/7 [00:01<00:00,  5.91it/s]
/home/s1/eugenebaek/anaconda3/envs/masa/lib/python3.8/site-packages/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion.py:201: FutureWarning: The configuration file of this scheduler: DDIMScheduler {
  "_class_name": "DDIMScheduler",
  "_diffusers_version": "0.30.3",
  "beta_end": 0.012,
  "beta_schedule": "scaled_linear",
  "beta_start": 0.00085,
  "clip_sample": false,
  "clip_sample_range": 1.0,
  "dynamic_thresholding_ratio": 0.995,
  "num_train_timesteps": 1000,
  "prediction_type": "epsilon",
  "rescale_betas_zero_snr": false,
  "sample_max_value": 1.0,
  "set_alpha_to_one": false,
  "steps_offset": 0,
  "thresholding": false,
  "timestep_spacing": "leading",
  "trained_betas": null
}
 is outdated. `steps_offset` should be set to 1 instead of 0. Please make sure to update the config accordingly as leaving `steps_offset` might led to incorrect results in future versions. If you have downloaded this checkpoint from the Hugging Face Hub, it would be very nice if you could open a Pull request for the `scheduler/scheduler_config.json` file
  deprecate("steps_offset!=1", "1.0.0", deprecation_message, standard_warn=False)
Editing from 13668!
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
pass
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 11.94it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:04,  9.25it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  8.82it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  8.54it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  8.34it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:00<00:05,  8.22it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  8.13it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:04,  8.06it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:04,  8.03it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:04,  8.00it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:04,  7.98it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:04,  7.96it/s]DDIM Inversion:  30%|███       | 15/50 [00:01<00:04,  7.95it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:01<00:04,  7.94it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.94it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.93it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:03,  7.93it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:03,  7.93it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:03,  7.93it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:02<00:03,  7.92it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:02<00:03,  7.92it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:02<00:03,  7.93it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.93it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.92it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:02,  7.92it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:02,  7.92it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.92it/s]DDIM Inversion:  60%|██████    | 30/50 [00:03<00:02,  7.92it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:03<00:02,  7.92it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:03<00:02,  7.92it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.88it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.94it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:01,  7.95it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.96it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:04<00:01,  7.97it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:04<00:01,  7.97it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:04<00:01,  7.97it/s]DDIM Inversion:  80%|████████  | 40/50 [00:04<00:01,  7.98it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.98it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.97it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.97it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:05<00:00,  7.98it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:05<00:00,  7.98it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:05<00:00,  7.97it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:05<00:00,  7.96it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:05<00:00,  7.97it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.97it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.97it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  8.05it/s]
/home/s1/eugenebaek/EditBench_eugene/MasaCtrl/masactrl/diffuser_utils.py:140: FutureWarning: Accessing config attribute `in_channels` directly via 'UNet2DConditionModel' object attribute is deprecated. Please access 'in_channels' over 'UNet2DConditionModel's config object instead, e.g. 'unet.config.in_channels'.
  latents_shape = (batch_size, self.unet.in_channels, height//8, width//8)
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.99it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.45it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  8.06it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.80it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.49it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.41it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.36it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.30it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.29it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:04,  7.27it/s]DDIM Sampler:  30%|███       | 15/50 [00:01<00:04,  7.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.25it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.25it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.24it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.24it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:02<00:03,  7.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.24it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.21it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.22it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.22it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.21it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.21it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.21it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.22it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.22it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.21it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.22it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.21it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:05<00:00,  7.20it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.20it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.20it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.20it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.19it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.19it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.32it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.83it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.82it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.42it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.19it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.83it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.64it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:11,  3.51it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:11,  3.44it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.39it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.35it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.33it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.31it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:10,  3.30it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.29it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.29it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.28it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.28it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.28it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.28it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.28it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.27it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.27it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:06<00:07,  3.27it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.27it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.27it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.27it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.27it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.27it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.27it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.27it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.27it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.27it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:09<00:04,  3.27it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.27it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.27it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:10<00:03,  3.27it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.27it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.27it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.27it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.27it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.27it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.27it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.27it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.27it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.27it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:13<00:00,  3.27it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.26it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.26it/s]DDIM Sampler: 100%|██████████| 50/50 [00:14<00:00,  3.26it/s]DDIM Sampler: 100%|██████████| 50/50 [00:14<00:00,  3.36it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.83it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.32it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.94it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.69it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.53it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.41it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.28it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  30%|███       | 15/50 [00:01<00:04,  7.19it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.18it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.18it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.18it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.18it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.18it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.18it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:02<00:03,  7.17it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.18it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.18it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.18it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.18it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.17it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.17it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.17it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.17it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.16it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.16it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.15it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.16it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.16it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.16it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.16it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.16it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.16it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.16it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.16it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.16it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.15it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.16it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.16it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.16it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.16it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.16it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.15it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.15it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.26it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.79it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.79it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.40it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.16it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.82it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.62it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.49it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:11,  3.42it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.37it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.33it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.31it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.29it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:10,  3.28it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.27it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.27it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.26it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.26it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.26it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.26it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.26it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.25it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.26it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:06<00:07,  3.26it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.26it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.26it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.25it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.25it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.25it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.25it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.25it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.25it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.25it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.25it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.25it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.25it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:10<00:03,  3.25it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.25it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.25it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.25it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.25it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.25it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.25it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.25it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.24it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.25it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.25it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.25it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.25it/s]DDIM Sampler: 100%|██████████| 50/50 [00:14<00:00,  3.24it/s]DDIM Sampler: 100%|██████████| 50/50 [00:14<00:00,  3.34it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.79it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.29it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.91it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.66it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.49it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.38it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.30it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.15it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.14it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.14it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.14it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.14it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.13it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.13it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:02<00:03,  7.12it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.12it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.13it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.12it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.12it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.12it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.12it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.12it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.12it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.12it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.12it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.12it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.12it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.12it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.11it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.12it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.12it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.11it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.11it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.11it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.22it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.77it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.77it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.37it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.14it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.79it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.60it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.48it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.40it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.35it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.32it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.29it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.26it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.25it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.25it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.24it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.24it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.24it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.24it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.24it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.24it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.24it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.24it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.24it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.24it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.24it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.24it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.24it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.24it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.24it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.24it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.24it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.24it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.24it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.24it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.24it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.24it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.24it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.24it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.33it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.78it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.76it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.24it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.24it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.24it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.78it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.76it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.28it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.90it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.65it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.30it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.24it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.10it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.07it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.43it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.72it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.24it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.47it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.77it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.78it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.76it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.34it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.11it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.77it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.79it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.60it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.40it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.30it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.24it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.09it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.07it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.07it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.06it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.06it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.07it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.07it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.07it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:04<00:02,  7.07it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.07it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.07it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.07it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.06it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.06it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.07it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.07it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.07it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.17it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.71it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.24it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.86it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.61it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.43it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.31it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.24it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.10it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.07it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.07it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.07it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.07it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.06it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.07it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.07it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.07it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.07it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.07it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.07it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.06it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.07it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.07it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.17it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.34it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.11it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.77it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:12,  3.33it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:03<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.22it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.24it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.73it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.72it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.23it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.86it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.61it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.43it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.79it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.35it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.28it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.14it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.79it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.29it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.24it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.70it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.22it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.86it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.35it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.47it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.36it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.28it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.23it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.13it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.47it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.35it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.76it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.24it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.24it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.24it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.24it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.24it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.24it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.78it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.22it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.11it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.11it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.11it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.11it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.11it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.90it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.47it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.35it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.28it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.31it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.28it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.31it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.43it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.72it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.72it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.24it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.86it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.61it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.35it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.07it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.77it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.22it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.79it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.28it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.79it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.43it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.71it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.24it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.86it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.78it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.34it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.11it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.77it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.45it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:12,  3.33it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:03<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.90it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.31it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.24it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.10it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.07it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.07it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.11it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.77it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:12,  3.33it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:03<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.78it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.71it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.24it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.80it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.28it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.90it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.31it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.24it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.07it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.11it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.77it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:12,  3.33it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:03<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.22it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  80%|████████  | 40/50 [00:12<00:03,  3.22it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.22it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.79it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.28it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.24it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.38it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.33it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.59it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.19it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.83it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.60it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.43it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.04it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.22it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.22it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.22it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.22it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.22it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.22it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.22it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.31it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.10it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:12,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.23it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.22it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.22it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.61it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.42it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.31it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.09it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.07it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.07it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:04<00:02,  7.07it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.07it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.07it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.07it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.07it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.06it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.11it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.75it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.58it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.21it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.84it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.60it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.13it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.12it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.12it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.12it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.11it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.11it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.11it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.11it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.11it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.79it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.24it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.24it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.24it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.24it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.24it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.24it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.28it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.23it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.20it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.11it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.72it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.77it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.25it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.23it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.17it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.74it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.75it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.11it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.11it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.63it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.11it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.75it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.79it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.27it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.11it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.11it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.10it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.20it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.77it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.89it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.64it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.35it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.30it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.22it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.58it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.20it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.83it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.60it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.45it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.34it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.27it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.19it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.11it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.10it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.10it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.11it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.10it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.10it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.10it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.71it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.24it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.86it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.35it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.28it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.20it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.12it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.10it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.11it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.11it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.09it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.59it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.47it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.78it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.28it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.90it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.65it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.46it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.33it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.26it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.22it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.16it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.14it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.12it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.11it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.10it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.09it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.09it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.10it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.10it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.10it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.09it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.19it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.76it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.36it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.13it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:01<00:11,  3.78it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:01<00:11,  3.58it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:02<00:12,  3.46it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:02<00:12,  3.39it/s]DDIM Sampler:  20%|██        | 10/50 [00:02<00:11,  3.34it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:02<00:11,  3.31it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:03<00:11,  3.28it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:03<00:11,  3.27it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:03<00:11,  3.26it/s]DDIM Sampler:  30%|███       | 15/50 [00:04<00:10,  3.25it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:04<00:10,  3.24it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:05<00:09,  3.24it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  40%|████      | 20/50 [00:05<00:09,  3.23it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:06<00:08,  3.23it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:07<00:08,  3.23it/s]DDIM Sampler:  50%|█████     | 25/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:07<00:07,  3.23it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  60%|██████    | 30/50 [00:08<00:06,  3.23it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:09<00:05,  3.22it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:09<00:05,  3.23it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  70%|███████   | 35/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:10<00:04,  3.23it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:11<00:04,  3.23it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  80%|████████  | 40/50 [00:11<00:03,  3.23it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:12<00:02,  3.23it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:13<00:01,  3.23it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:14<00:00,  3.23it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:14<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.23it/s]DDIM Sampler: 100%|██████████| 50/50 [00:15<00:00,  3.32it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
Valid timesteps:  tensor([  1,  21,  41,  61,  81, 101, 121, 141, 161, 181, 201, 221, 241, 261,
        281, 301, 321, 341, 361, 381, 401, 421, 441, 461, 481, 501, 521, 541,
        561, 581, 601, 621, 641, 661, 681, 701, 721, 741, 761, 781, 801, 821,
        841, 861, 881, 901, 921, 941, 961, 981])
DDIM Inversion:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Inversion:   4%|▍         | 2/50 [00:00<00:04, 10.76it/s]DDIM Inversion:   8%|▊         | 4/50 [00:00<00:05,  8.26it/s]DDIM Inversion:  10%|█         | 5/50 [00:00<00:05,  7.88it/s]DDIM Inversion:  12%|█▏        | 6/50 [00:00<00:05,  7.61it/s]DDIM Inversion:  14%|█▍        | 7/50 [00:00<00:05,  7.42it/s]DDIM Inversion:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Inversion:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Inversion:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Inversion:  22%|██▏       | 11/50 [00:01<00:05,  7.18it/s]DDIM Inversion:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Inversion:  26%|██▌       | 13/50 [00:01<00:05,  7.12it/s]DDIM Inversion:  28%|██▊       | 14/50 [00:01<00:05,  7.09it/s]DDIM Inversion:  30%|███       | 15/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  34%|███▍      | 17/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Inversion:  40%|████      | 20/50 [00:02<00:04,  7.08it/s]DDIM Inversion:  42%|████▏     | 21/50 [00:02<00:04,  7.07it/s]DDIM Inversion:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  48%|████▊     | 24/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  50%|█████     | 25/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  52%|█████▏    | 26/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Inversion:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Inversion:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Inversion:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  64%|██████▍   | 32/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Inversion:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Inversion:  70%|███████   | 35/50 [00:04<00:02,  7.07it/s]DDIM Inversion:  72%|███████▏  | 36/50 [00:04<00:01,  7.07it/s]DDIM Inversion:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Inversion:  78%|███████▊  | 39/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  80%|████████  | 40/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  82%|████████▏ | 41/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  84%|████████▍ | 42/50 [00:05<00:01,  7.09it/s]DDIM Inversion:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Inversion:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  90%|█████████ | 45/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  94%|█████████▍| 47/50 [00:06<00:00,  7.09it/s]DDIM Inversion:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Inversion:  98%|█████████▊| 49/50 [00:06<00:00,  7.09it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Inversion: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
input text embeddings : torch.Size([1, 77, 768])
latents shape:  torch.Size([1, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:04, 10.73it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:05,  8.25it/s]DDIM Sampler:  10%|█         | 5/50 [00:00<00:05,  7.87it/s]DDIM Sampler:  12%|█▏        | 6/50 [00:00<00:05,  7.62it/s]DDIM Sampler:  14%|█▍        | 7/50 [00:00<00:05,  7.44it/s]DDIM Sampler:  16%|█▌        | 8/50 [00:01<00:05,  7.32it/s]DDIM Sampler:  18%|█▊        | 9/50 [00:01<00:05,  7.25it/s]DDIM Sampler:  20%|██        | 10/50 [00:01<00:05,  7.21it/s]DDIM Sampler:  22%|██▏       | 11/50 [00:01<00:05,  7.17it/s]DDIM Sampler:  24%|██▍       | 12/50 [00:01<00:05,  7.15it/s]DDIM Sampler:  26%|██▌       | 13/50 [00:01<00:05,  7.13it/s]DDIM Sampler:  28%|██▊       | 14/50 [00:01<00:05,  7.11it/s]DDIM Sampler:  30%|███       | 15/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  32%|███▏      | 16/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  34%|███▍      | 17/50 [00:02<00:04,  7.10it/s]DDIM Sampler:  36%|███▌      | 18/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  38%|███▊      | 19/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  40%|████      | 20/50 [00:02<00:04,  7.09it/s]DDIM Sampler:  42%|████▏     | 21/50 [00:02<00:04,  7.08it/s]DDIM Sampler:  44%|████▍     | 22/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  46%|████▌     | 23/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  48%|████▊     | 24/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  50%|█████     | 25/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  52%|█████▏    | 26/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  54%|█████▍    | 27/50 [00:03<00:03,  7.09it/s]DDIM Sampler:  56%|█████▌    | 28/50 [00:03<00:03,  7.08it/s]DDIM Sampler:  58%|█████▊    | 29/50 [00:03<00:02,  7.08it/s]DDIM Sampler:  60%|██████    | 30/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  62%|██████▏   | 31/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  64%|██████▍   | 32/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  66%|██████▌   | 33/50 [00:04<00:02,  7.09it/s]DDIM Sampler:  68%|██████▊   | 34/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  70%|███████   | 35/50 [00:04<00:02,  7.08it/s]DDIM Sampler:  72%|███████▏  | 36/50 [00:04<00:01,  7.08it/s]DDIM Sampler:  74%|███████▍  | 37/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  76%|███████▌  | 38/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  78%|███████▊  | 39/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  80%|████████  | 40/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  82%|████████▏ | 41/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  84%|████████▍ | 42/50 [00:05<00:01,  7.08it/s]DDIM Sampler:  86%|████████▌ | 43/50 [00:05<00:00,  7.08it/s]DDIM Sampler:  88%|████████▊ | 44/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  90%|█████████ | 45/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  92%|█████████▏| 46/50 [00:06<00:00,  7.09it/s]DDIM Sampler:  94%|█████████▍| 47/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  96%|█████████▌| 48/50 [00:06<00:00,  7.08it/s]DDIM Sampler:  98%|█████████▊| 49/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.08it/s]DDIM Sampler: 100%|██████████| 50/50 [00:06<00:00,  7.18it/s]
MasaCtrl at denoising steps:  [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49]
MasaCtrl at U-Net layers:  [10, 11, 12, 13, 14, 15]
input text embeddings : torch.Size([2, 77, 768])
latents shape:  torch.Size([2, 4, 64, 64])
DDIM Sampler:   0%|          | 0/50 [00:00<?, ?it/s]DDIM Sampler:   4%|▍         | 2/50 [00:00<00:08,  5.74it/s]DDIM Sampler:   6%|▌         | 3/50 [00:00<00:09,  4.75it/s]DDIM Sampler:   8%|▊         | 4/50 [00:00<00:10,  4.35it/s]DDIM Sampler:  10%|█         | 5/50 [00:01<00:10,  4.12it/s]